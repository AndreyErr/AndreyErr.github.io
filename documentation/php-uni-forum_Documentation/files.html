<!DOCTYPE html>
<html lang="ru">
  <head>
    <!-- Title -->
    <title>Документация | Файлы</title>
  
    <!-- Required Meta Tags Always Come First -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  
    <!-- Favicon -->
    <link rel="shortcut icon" href="../favicon.png">
  
    <meta name="keywords" content="">
    <meta name="description" content="Документация">
    <meta name="author" content="htmlstream.com, Андрей сорокин">

    <!-- CSS Implementing Plugins -->
    <link rel="stylesheet" href="../assets/vendor/font-awesome/css/fontawesome-all.min.css">
    <link rel="stylesheet" href="../assets/vendor/jquery-ui/themes/base/jquery-ui.min.css">
    <link rel="stylesheet" href="../assets/vendor/prism/prism.css">
  
    <!-- CSS Implementing Plugins -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css" rel="stylesheet">

  <!-- CSS Template -->
  <link rel="stylesheet" href="../assets/css/theme.css">
  <link rel="stylesheet" href="../assets/css/layout.css">
</head>
<body class="bg-white">
  <div class="container-fluid">
    <div class="row">
      <!-- Sidebar -->
      <nav class="col-md-4 col-lg-3 col-xl-2 bg-dark text-white duik-sidebar duik-sidebar--dark ui-autocomplete-wrapper--dark navbar-expand-md pt-0">
        <div class="d-flex justify-content-between bg-black-soft w-100">
          <a class="d-block w-md-100 p-3 mr-md-0 navbar-brand text-light" href="../index.html">
            AndreyErrDocs
          </a>

          <!-- Responsive Toggle Button -->
          <button class="btn btn-link text-white pl-0 d-md-none" type="button" data-toggle="collapse" data-target="#sidebar-nav" aria-controls="sidebar-nav" aria-expanded="false" aria-label="Toggle navigation">
            <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 30 30" width="30" height="30" focusable="false">
              <path stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-miterlimit="10" d="M4 7h22M4 15h22M4 23h22"/>
            </svg>
          </button>
          <!-- End Responsive Toggle Button -->
        </div>

        <!-- Sidebar Nav -->
        <div class="collapse navbar-collapse" id="sidebar-nav">
          <div class="js-scrollbar duik-sidebar-sticky duik-sidebar-sticky--mini">
            <ul class="duik-sidebar__nav">
              <li class="duik-sidebar__item"><a class="duik-sidebar__link" href="../php-uni-forum_Documentation/start.html">Начало</a></li>
              <li class="duik-sidebar__item"><a class="duik-sidebar__link active" href="../php-uni-forum_Documentation/files.html">Файлы</a></li>
              <li class="duik-sidebar__item"><a class="duik-sidebar__link" href="../php-uni-forum_Documentation/system.html">Система</a></li>
              <li class="duik-sidebar__item"><a class="duik-sidebar__link" href="#!">Дальше - больше...</a></li>
            </ul>
          </div>
        </div>
        <!-- End Sidebar Nav -->

        <hr class="mt-0 mt-md-3 mb-4">

        <!-- Fast Links -->
        <ul class="duik-sidebar__nav mb-0">
          <li class="duik-sidebar__item"><a class="duik-sidebar__link" href="../php-uni-forum_Documentation/index.html"><i class="fa-solid fa-house mr-2"></i> Начало</a></li>
          <li class="duik-sidebar__item"><a class="duik-sidebar__link" href="https://github.com/AndreyErr/php-uni-forum" target="_blank"><i class="fa-brands fa-github mr-2"></i> Репозиторий</a></li>
        </ul>
        <!-- End Fast Links -->

        <hr class="mt-0 mt-md-3 mb-4">

        <div class="px-3 pb-5">
          <a class="btn btn-sm btn-block btn-primary" href="https://github.com/AndreyErr/php-uni-forum/releases" title="Скачать" target="_blank"><i class="fas fa-cloud-download-alt mr-1"></i> Скачать код</a>
        </div>
      </nav>
      <!-- End Sidebar -->

      <main class="ml-sm-auto col-md-8 col-lg-9 col-xl-10 px-4 pt-4">
        <div class="row pt-3">
          <!-- Content Nav -->
          <div class="col-xl-2 order-xl-2 d-none d-xl-inline-block">
            <ul class="js-scroll-nav duik-content-nav top-3">
              <li class="duik-content-nav__item"><a href="#cor">В корне проекта</a></li>
              <li class="duik-content-nav__item"><a href="#server">Серверная часть</a>
              <li class="duik-content-nav__item"><a href="#apache">apache</a></li>
              <li class="duik-content-nav__item"><a href="#nginx">nginx</a></li>
              <li class="duik-content-nav__item"><a href="#init">init</a></li>
              </li>
              <li class="duik-content-nav__item"><a href="#web">Веб часть</a>
              <li class="duik-content-nav__item"><a href="#static">static</a>
                <ul>
                  <li class="duik-content-nav__item"><a href="#err">err</a></li>
                  <li class="duik-content-nav__item"><a href="#src">src</a></li>
                </ul>
              </li>
              <li class="duik-content-nav__item"><a href="#dynamic">dynamic</a>
                <ul>
                  <li class="duik-content-nav__item"><a href="#files">files</a></li>
                  <li class="duik-content-nav__item"><a href="#lib">lib</a></li>
                  <li class="duik-content-nav__item"><a href="#modules">modules</a></li>
                  <li class="duik-content-nav__item"><a href="#settings">settings</a></li>
                  <li class="duik-content-nav__item"><a href="#system">system</a></li>
                </ul>
              </li>
              </li>
              <li class="duik-content-nav__item"><a href="#next">Что дальше</a></li>
            </ul>
          </div>
          <!-- End Content Nav -->

          <!-- Content -->
          <div class="col-xl-10 order-xl-1 duik-content-2 border-bottom">
            <div class="border-bottom mb-7">
              <h1 class="font-weight-bold">Файлы</h1>
              <p class="lead mb-5">В этой главе мы расскажем о необходимых файлах и их предназначении. В последующих главах мы расскажем как правильно добавить свои модули.</p>
            </div>


            <div id="cor" class="mb-7">
              <h2 class="h4 font-weight-bold">В корне проекта  <a class="js-anchor-link duik-anchorjs-link" href="#cor" aria-label="Anchor" data-anchorjs-icon="#"></a></h2>
              <p><code>docker-compose.yml</code> - в нем задаются настройки контейнеров. В нём же вы можете задать свои настройки, например - порты (но не на все контейнеры, так как некоторые контейнеры настраиваются в другом месте (apache) или имеют порты по умолчанию).</p>
            </div>

            <hr class="mt-7 mb-4">

            <div id="server" class="mb-7">
              <h2 class="h4 font-weight-bold">Серверная часть  <a class="js-anchor-link duik-anchorjs-link" href="#server" aria-label="Anchor" data-anchorjs-icon="#"></a></h2>
              <p>Серверная часть проекта находится в папке <code>server-config</code>. Там происходит основная настройка серверов баз данных, apache и nginx.</p>
              <p><code>docker-compose.yml</code> - в нем задаются настройки контейнеров. В нём же вы можете задать свои настройки, например - порты.</p>
            </div>

            <div id="apache" class="mb-7">
              <h2 class="h4 font-weight-bold">Apache  <a class="js-anchor-link duik-anchorjs-link" href="#apache" aria-label="Anchor" data-anchorjs-icon="#"></a></h2>
              <p>Настройка apache сервера находится в папке  <code>apache</code>. Там должны быть следующие файлы:</p>
              <p><code>000-default.conf</code> - конфигурационный файл хоста. В нем устанавливается порт apache сервера и основные настройки переадресации (в основном, в случае ошибок).</p>
              <p><code>Dockerfile</code> - запуск и настройка контейнера php.</p>
              <p><code>php.ini</code> - влияет на функциональность PHP. Устанавливает параметры его работы.</p>
              <p><code>ports.conf</code> - основной файл конфигурации портов WEB-сервера Apache. В нём прописаны порты, с которыми работает Apache.</p>
            </div>

            <div id="nginx" class="mb-7">
              <h2 class="h4 font-weight-bold">Nginx  <a class="js-anchor-link duik-anchorjs-link" href="#nginx" aria-label="Anchor" data-anchorjs-icon="#"></a></h2>
              <p>Настройка nginx сервера находится в папке  <code>nginx</code>. Там должны быть следующие файлы:</p>
              <p><code>default.conf</code> - конфигурационный файл nginx. В нем устанавливается правила работы сервера и переадресации ошибок, статического и динамического контента и др. Этот файл является точкой входа на веб-ресурс.</p>
            </div>

            <div id="init" class="mb-7">
              <h2 class="h4 font-weight-bold">Init  <a class="js-anchor-link duik-anchorjs-link" href="#init" aria-label="Anchor" data-anchorjs-icon="#"></a></h2>
              <p>Предстартовая автоматическая иницилизация.</p>
              <p><code>init.sql</code> - первоначальное создание базы данных для веб-ресурса с аккаунтом администратора.</p>
            </div>

            <hr class="mt-7 mb-4">

            <div id="web" class="mb-7">
              <h2 class="h4 font-weight-bold">Веб часть  <a class="js-anchor-link duik-anchorjs-link" href="#web" aria-label="Anchor" data-anchorjs-icon="#"></a></h2>
              <p>Веб часть проекта находится в папке <code>web</code>. Тут распологаются 2 дерриктории: static и dynamic. В них ужк находятся все файлы работы самого сайта.</p>
            </div>

            <div id="static" class="mb-7">
              <h2 class="h4 font-weight-bold">Static  <a class="js-anchor-link duik-anchorjs-link" href="#static" aria-label="Anchor" data-anchorjs-icon="#"></a></h2>
              <p>Веб часть проекта, которая обрабатывается сервером <code>nginx</code>. Тут может находится только статический контент (скрипты, стили, картинки, файлы .html).</p>
            </div>

            <div id="err" class="mb-7">
              <h2 class="h4 font-weight-bold">Err  <a class="js-anchor-link duik-anchorjs-link" href="#err" aria-label="Anchor" data-anchorjs-icon="#"></a></h2>
              <p>Файлы, на которые ведут переадресацию сервера в случае ошибок. Но не только это. Здась находятся файлы ошибок, на которые ведёт переадресацию сам сайт. Там должны быть следующие файлы:</p>
              <p><code>404.html</code> - ошибка поиска запрашиваемого ресурса.</p>
              <p><code>413.html</code> - перегруженный запрос (превышен лимит установленный на сервере).</p>
              <p><code>500.html</code> - ошибка работы сервера.</p>
              <p><code>error.html</code> - неизвестная ошибка (не используется).</p>
              <p><code>wrongSettings.html</code> - ошибка настройки сайта (его конфигурационных файлов).</p>
            </div>

            <div id="src" class="mb-7">
              <h2 class="h4 font-weight-bold">Src  <a class="js-anchor-link duik-anchorjs-link" href="#src" aria-label="Anchor" data-anchorjs-icon="#"></a></h2>
              <p>Неизменные файлы работы сайта: css, js, статические картинки. Описывать их мы не будем. Главное - все стили сайта так или иначе работают на <code>bootstrap</code>!</p>
            </div>


            <div id="dynamic" class="mb-7">
              <h2 class="h4 font-weight-bold">Dynamic  <a class="js-anchor-link duik-anchorjs-link" href="#dynamic" aria-label="Anchor" data-anchorjs-icon="#"></a></h2>
              <p>Веб часть проекта, которая обрабатывается сервером <code>apache</code>. Тут уже может находится статический и динамический контент.</p>
              <p><code>.htaccess</code> - настройка правил адресации для сайта (<b><code>главное правило - все запросы, кроме дерриктории files идут в файл index.php на этом же уровне</code></b>).</p>
              <p><code>index.php</code> - точка входа на сайт. Все запросы, кроме files приходят сюда.</p>
            </div>

            <div id="files" class="mb-7">
              <h2 class="h4 font-weight-bold">Files  <a class="js-anchor-link duik-anchorjs-link" href="#files" aria-label="Anchor" data-anchorjs-icon="#"></a></h2>
              <p>Сюда сохраняются все пользовательские файлы. Для данной версии проекта должны быть следующие пути:</p>
              <p><code>files/forum/tims</code> - файлы с форума.</p>
              <p><code>files/img/avatar</code> - аватарки пользователей.</p>
            </div>

            <div id="lib" class="mb-7">
              <h2 class="h4 font-weight-bold">Lib  <a class="js-anchor-link duik-anchorjs-link" href="#lib" aria-label="Anchor" data-anchorjs-icon="#"></a></h2>
              <p>Файлы-библиотеки для обраьотки данных. Там должны быть следующие файлы:</p>
              <p><code>dev.php</code> - функции разработчика.</p>
              <p><code>formCheck.php</code> - функции серверной проверки данных форм.</p>
              <p><code>security.php</code> - функции безопасности (хеширование, шифрование и т.п.).</p>
            </div>

            <div id="modules" class="mb-7">
              <h2 class="h4 font-weight-bold">Modules  <a class="js-anchor-link duik-anchorjs-link" href="#modules" aria-label="Anchor" data-anchorjs-icon="#"></a></h2>
              <p>Модули проекта. Более подробно о них будет рассказано в других главах! Они могут быть любыми, поэтому все существующие описывать не будем. Но есть и обязательные папки и файлы здесь:</p>
              <p><code>views/</code> - папка с общесайтовыми представлениями.</p>
              <p><code>main/</code> - папка с главной страницей сайта.</p>
              <p><code>main/views/</code> - папка с представллениями модуля main.</p>
              <p><code>main/views/main.php</code> - представление главной страницы.</p>
              <p><code>main/mainC.php</code> - контроллер главной страницы.</p>
              <p><code>main/mainM.php</code> - модель главной страницы.</p>
              <p>Напоминаем, что сайт работает на паттерне <code>MVC</code> - модель, представление, контроллер.</p>
            </div>

            <div id="settings" class="mb-7">
              <h2 class="h4 font-weight-bold">Settings  <a class="js-anchor-link duik-anchorjs-link" href="#settings" aria-label="Anchor" data-anchorjs-icon="#"></a></h2>
              <p>настройки сайта. Там должны быть следующие файлы:</p>
              <p><code>access.php</code> - настройки доступа к модулям или отдельным страницам для групп пользователей.</p>
              <p><code>config_data.php</code> - общесайтовые натройки (настройки стандартных данных).</p>
              <p><code>db.php</code> - подключение к базе данных.</p>
              <p><code>status.php</code> - возможные статусы (группы) пользователей.</p>
              <p><code>topic_type.php</code> - типы возможных топиков.</p>
            </div>

            <div id="system" class="mb-7">
              <h2 class="h4 font-weight-bold">Settings  <a class="js-anchor-link duik-anchorjs-link" href="#system" aria-label="Anchor" data-anchorjs-icon="#"></a></h2>
              <p>Ядро сайта. Там должны быть следующие файлы:</p>
              <p><code>controller.php</code> - главный контроллер сайта.</p>
              <p><code>model.php</code> - главная модель сайта.</p>
              <p><code>router.php</code> - распределяет запросы по модулям.</p>
              <p><code>view.php</code> - главное представление сайта.</p>
            </div>

            <hr class="mt-7 mb-4">

            <div id="next" class="mb-7">
              <h2 class="h4 font-weight-bold">Что дальше <a class="js-anchor-link duik-anchorjs-link" href="#next" data-anchorjs-icon="#"></a></h2>
              <p>Теперь вы знаете основную структуру проекта!</p>
              <p>Следующая глава: <a target="_blank" href="../php-uni-forum_Documentation/system.html">Система</a>.</p>
            </div>

          </div>
          <!-- End Content -->

          <hr class="mt-7 mb-4">

        <!-- Footer -->
        </div>
        <!-- End Footer -->
      </main>
    </div>
  </div>

  <!-- Go to Top -->
  <a class="js-go-to duik-go-to" href="javascript:;">
    <span class="fa fa-arrow-up duik-go-to__inner"></span>
  </a>
  <!-- End Go to Top -->

  <!-- JS Global Compulsory -->
  <script src="../assets/vendor/jquery/dist/jquery.min.js"></script>
  <script src="../assets/vendor/jquery-migrate/dist/jquery-migrate.min.js"></script>
  <script src="../assets/vendor/popper.js/dist/umd/popper.min.js"></script>
  <script src="../assets/vendor/bootstrap/dist/js/bootstrap.min.js"></script>

  <!-- JS Implementing Plugins -->
  <script src="../assets/vendor/jquery-ui/jquery-ui.core.min.js"></script>
  <script src="../assets/vendor/jquery-ui/ui/widgets/menu.js"></script>
  <script src="../assets/vendor/jquery-ui/ui/widgets/mouse.js"></script>
  <script src="../assets/vendor/prism/prism.js"></script>

  <!-- JS -->
  <script src="../assets/js/main.js"></script>
</body>
</html>